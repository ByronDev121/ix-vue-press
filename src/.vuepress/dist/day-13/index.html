<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>State Management Using Redux | iXperience - Software Engineering 2024</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="iX day 1 resource">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.d920a842.css" as="style"><link rel="preload" href="/assets/js/app.e5bbb248.js" as="script"><link rel="preload" href="/assets/js/2.640495aa.js" as="script"><link rel="preload" href="/assets/js/1.416e4fa3.js" as="script"><link rel="preload" href="/assets/js/33.f66b6353.js" as="script"><link rel="prefetch" href="/assets/js/10.b008c32b.js"><link rel="prefetch" href="/assets/js/11.6a71a21e.js"><link rel="prefetch" href="/assets/js/12.7381853d.js"><link rel="prefetch" href="/assets/js/13.9cbf7086.js"><link rel="prefetch" href="/assets/js/14.0437fd45.js"><link rel="prefetch" href="/assets/js/15.bf3f0711.js"><link rel="prefetch" href="/assets/js/16.4444bedb.js"><link rel="prefetch" href="/assets/js/17.2e85910b.js"><link rel="prefetch" href="/assets/js/18.78f87d15.js"><link rel="prefetch" href="/assets/js/19.9f389a20.js"><link rel="prefetch" href="/assets/js/20.c55ac021.js"><link rel="prefetch" href="/assets/js/21.21961b53.js"><link rel="prefetch" href="/assets/js/22.907dbbe8.js"><link rel="prefetch" href="/assets/js/23.ada8c790.js"><link rel="prefetch" href="/assets/js/24.5a777f85.js"><link rel="prefetch" href="/assets/js/25.23812809.js"><link rel="prefetch" href="/assets/js/26.d8b623f9.js"><link rel="prefetch" href="/assets/js/27.07bf9773.js"><link rel="prefetch" href="/assets/js/28.9d47222e.js"><link rel="prefetch" href="/assets/js/29.a232acbe.js"><link rel="prefetch" href="/assets/js/3.abd8da3d.js"><link rel="prefetch" href="/assets/js/30.7cd6cfc7.js"><link rel="prefetch" href="/assets/js/31.b89c5df7.js"><link rel="prefetch" href="/assets/js/32.b3a613a3.js"><link rel="prefetch" href="/assets/js/34.9595b654.js"><link rel="prefetch" href="/assets/js/35.fe7acd09.js"><link rel="prefetch" href="/assets/js/36.a807c265.js"><link rel="prefetch" href="/assets/js/37.6e7a2d77.js"><link rel="prefetch" href="/assets/js/38.ccb502f4.js"><link rel="prefetch" href="/assets/js/39.09dce22b.js"><link rel="prefetch" href="/assets/js/4.80f546ca.js"><link rel="prefetch" href="/assets/js/40.205a3f99.js"><link rel="prefetch" href="/assets/js/41.fcdaae17.js"><link rel="prefetch" href="/assets/js/42.bed21c82.js"><link rel="prefetch" href="/assets/js/43.f722866d.js"><link rel="prefetch" href="/assets/js/44.bab14d5b.js"><link rel="prefetch" href="/assets/js/45.41948b9a.js"><link rel="prefetch" href="/assets/js/46.af148f1d.js"><link rel="prefetch" href="/assets/js/47.d53db5ff.js"><link rel="prefetch" href="/assets/js/48.66731928.js"><link rel="prefetch" href="/assets/js/49.b167343c.js"><link rel="prefetch" href="/assets/js/5.edbb760b.js"><link rel="prefetch" href="/assets/js/50.6164c1dd.js"><link rel="prefetch" href="/assets/js/51.e6ec115c.js"><link rel="prefetch" href="/assets/js/52.9ff1aeaf.js"><link rel="prefetch" href="/assets/js/53.f5c8af04.js"><link rel="prefetch" href="/assets/js/6.7a8bd171.js"><link rel="prefetch" href="/assets/js/7.93fcf6e6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5a4296f1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d920a842.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">iXperience - Software Engineering 2024</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/capstone-project/" class="nav-link">
  Capstone Project
</a></div><div class="nav-item"><a href="/day-1/" class="nav-link">
  Day 1
</a></div><div class="nav-item"><a href="/day-2/" class="nav-link">
  Day 2
</a></div><div class="nav-item"><a href="/day-3/" class="nav-link">
  Day 3
</a></div><div class="nav-item"><a href="/day-4/" class="nav-link">
  Day 4
</a></div><div class="nav-item"><a href="/day-5/" class="nav-link">
  Day 5
</a></div><div class="nav-item"><a href="/day-6/" class="nav-link">
  Day 6
</a></div><div class="nav-item"><a href="/day-7/" class="nav-link">
  Day 7
</a></div><div class="nav-item"><a href="/day-8/" class="nav-link">
  Day 8
</a></div><div class="nav-item"><a href="/day-9/" class="nav-link">
  Day 9
</a></div><div class="nav-item"><a href="/day-11/" class="nav-link">
  Day 11
</a></div><div class="nav-item"><a href="/day-12/" class="nav-link">
  Day 12
</a></div><div class="nav-item"><a href="/day-13/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Day 13
</a></div><div class="nav-item"><a href="/day-14/" class="nav-link">
  Day 14
</a></div><div class="nav-item"><a href="/day-17/" class="nav-link">
  Day 17
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/capstone-project/" class="nav-link">
  Capstone Project
</a></div><div class="nav-item"><a href="/day-1/" class="nav-link">
  Day 1
</a></div><div class="nav-item"><a href="/day-2/" class="nav-link">
  Day 2
</a></div><div class="nav-item"><a href="/day-3/" class="nav-link">
  Day 3
</a></div><div class="nav-item"><a href="/day-4/" class="nav-link">
  Day 4
</a></div><div class="nav-item"><a href="/day-5/" class="nav-link">
  Day 5
</a></div><div class="nav-item"><a href="/day-6/" class="nav-link">
  Day 6
</a></div><div class="nav-item"><a href="/day-7/" class="nav-link">
  Day 7
</a></div><div class="nav-item"><a href="/day-8/" class="nav-link">
  Day 8
</a></div><div class="nav-item"><a href="/day-9/" class="nav-link">
  Day 9
</a></div><div class="nav-item"><a href="/day-11/" class="nav-link">
  Day 11
</a></div><div class="nav-item"><a href="/day-12/" class="nav-link">
  Day 12
</a></div><div class="nav-item"><a href="/day-13/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Day 13
</a></div><div class="nav-item"><a href="/day-14/" class="nav-link">
  Day 14
</a></div><div class="nav-item"><a href="/day-17/" class="nav-link">
  Day 17
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Day 13</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/day-13/" aria-current="page" class="active sidebar-link">State Management Using Redux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/day-13/#getting-started" class="sidebar-link">Getting started</a></li><li class="sidebar-sub-header"><a href="/day-13/#redux-store" class="sidebar-link">Redux Store</a></li><li class="sidebar-sub-header"><a href="/day-13/#redux-state" class="sidebar-link">Redux State</a></li><li class="sidebar-sub-header"><a href="/day-13/#redux-reducers" class="sidebar-link">Redux Reducers</a></li><li class="sidebar-sub-header"><a href="/day-13/#dispatch-redux-action" class="sidebar-link">Dispatch Redux Action</a></li><li class="sidebar-sub-header"><a href="/day-13/#accessing-redux-state" class="sidebar-link">Accessing Redux State</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="state-management-using-redux"><a href="#state-management-using-redux" class="header-anchor">#</a> State Management Using Redux</h1> <p></p><div class="table-of-contents"><ul><li><a href="#getting-started">Getting started</a><ul><li><a href="#install-redux-and-redux-tool-kit">Install Redux and Redux tool kit</a></li></ul></li><li><a href="#redux-store">Redux Store</a><ul><li><a href="#create-redux-store">Create Redux Store</a></li><li><a href="#define-redux-store">Define Redux Store</a></li><li><a href="#provide-redux-store-to-react-application-and-all-its-components">Provide Redux store to react application and all its components</a></li></ul></li><li><a href="#redux-state">Redux State</a><ul><li><a href="#create-redux-blog-state-slice">Create Redux Blog State Slice</a></li><li><a href="#define-redux-blog-state-slice">Define Redux Blog State Slice</a></li></ul></li><li><a href="#redux-reducers">Redux Reducers</a><ul><li><a href="#define-redux-reducers">Define Redux Reducers</a></li></ul></li><li><a href="#dispatch-redux-action">Dispatch Redux Action</a><ul><li><a href="#dispatch-redux-action">Dispatch Redux Action</a></li></ul></li><li><a href="#accessing-redux-state">Accessing Redux State</a><ul><li><a href="#accessing-redux-state">Accessing Redux State</a></li><li><a href="#final-updated-home-page">Final updated home page</a></li></ul></li></ul></div><p></p> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <h3 id="install-redux-and-redux-tool-kit"><a href="#install-redux-and-redux-tool-kit" class="header-anchor">#</a> Install Redux and Redux tool kit</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @reduxjs/toolkit react-redux
</code></pre></div><h2 id="redux-store"><a href="#redux-store" class="header-anchor">#</a> Redux Store</h2> <h3 id="create-redux-store"><a href="#create-redux-store" class="header-anchor">#</a> Create Redux Store</h3> <p>In <code>frontend/src/app/</code> create a file called <code>store.js</code></p> <p><img src="/redux-store-file-structure.png" alt="Redux Store File Structure"></p> <h3 id="define-redux-store"><a href="#define-redux-store" class="header-anchor">#</a> Define Redux Store</h3> <p>Define Redux store byt importing configureStore from &quot;@reduxjs/toolkit&quot; and instantiate an instance of store with your defined reducers.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> configureStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@reduxjs/toolkit&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> authReducer <span class="token keyword">from</span> <span class="token string">&quot;../features/authSlice&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> blogReducer <span class="token keyword">from</span> <span class="token string">&quot;../features/blogsSlice&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> categoryReducer <span class="token keyword">from</span> <span class="token string">&quot;../features/categoriesSlice&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">reducer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">auth</span><span class="token operator">:</span> authReducer<span class="token punctuation">,</span>
    <span class="token literal-property property">blogs</span><span class="token operator">:</span> blogReducer<span class="token punctuation">,</span>
    <span class="token literal-property property">categories</span><span class="token operator">:</span> categoryReducer<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="provide-redux-store-to-react-application-and-all-its-components"><a href="#provide-redux-store-to-react-application-and-all-its-components" class="header-anchor">#</a> Provide Redux store to react application and all its components</h3> <p>In index.js in the root directory of your project import the Provider element from redux ad import your store created in the last step. Wrap the Base App element in the redux provider element and pass in store as an argument to provide the react application access tot he global state and the redux API.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom/client&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./index.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./app/store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-redux&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> root <span class="token operator">=</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="redux-state"><a href="#redux-state" class="header-anchor">#</a> Redux State</h2> <h3 id="create-redux-blog-state-slice"><a href="#create-redux-blog-state-slice" class="header-anchor">#</a> Create Redux Blog State Slice</h3> <p>In <code>frontend/src/app/features</code> create a file called <code>blogSlice.js</code></p> <p><img src="/redux-features-file-structure.png" alt="Redux State File Structure"></p> <h3 id="define-redux-blog-state-slice"><a href="#define-redux-blog-state-slice" class="header-anchor">#</a> Define Redux Blog State Slice</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createSlice<span class="token punctuation">,</span> createAsyncThunk <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@reduxjs/toolkit&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> blogService <span class="token keyword">from</span> <span class="token string">&quot;../services/blogService&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">blog</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token literal-property property">blogs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isError</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isSuccess</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isLoading</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> blogsSlice <span class="token operator">=</span> <span class="token function">createSlice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;blogs&quot;</span><span class="token punctuation">,</span>
  initialState<span class="token punctuation">,</span>
  <span class="token literal-property property">reducers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">reset</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> initialState<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> reset <span class="token punctuation">}</span> <span class="token operator">=</span> blogsSlice<span class="token punctuation">.</span>actions<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> blogsSlice<span class="token punctuation">.</span>reducer<span class="token punctuation">;</span>
</code></pre></div><h2 id="redux-reducers"><a href="#redux-reducers" class="header-anchor">#</a> Redux Reducers</h2> <h3 id="define-redux-reducers"><a href="#define-redux-reducers" class="header-anchor">#</a> Define Redux Reducers</h3> <p>Since we want to keep the blogs data in state, we need a reducer to fetch the data from the our backend API and set the blogs state. We then need to move the HTTP request from the useEffect hook in the Home page to it's own Reducer in the blog state slice. We can then dispatch the fetchBlogs action to query the API and store the response in global state. We use the createAsyncThunk function from &quot;@reduxjs/toolkit&quot; to handle async reducer functions. This allows the state slice to listen to the events such as pending, fulfilled and rejected.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createSlice<span class="token punctuation">,</span> createAsyncThunk <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@reduxjs/toolkit&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> blogService <span class="token keyword">from</span> <span class="token string">&quot;../services/blogService&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">blog</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token literal-property property">blogs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isError</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isSuccess</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isLoading</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> fetchBlogs <span class="token operator">=</span> <span class="token function">createAsyncThunk</span><span class="token punctuation">(</span>
  <span class="token string">&quot;blogs/fetchBlogs&quot;</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> thunkAPI</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">await</span> blogService<span class="token punctuation">.</span><span class="token function">fetchBlogs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> message <span class="token operator">=</span> error<span class="token punctuation">.</span>message <span class="token operator">||</span> error<span class="token punctuation">;</span>
      <span class="token keyword">return</span> thunkAPI<span class="token punctuation">.</span><span class="token function">rejectWithValue</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> blogsSlice <span class="token operator">=</span> <span class="token function">createSlice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;blogs&quot;</span><span class="token punctuation">,</span>
  initialState<span class="token punctuation">,</span>
  <span class="token literal-property property">reducers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">reset</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> initialState<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">extraReducers</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">builder</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    builder
      <span class="token punctuation">.</span><span class="token function">addCase</span><span class="token punctuation">(</span>fetchBlogs<span class="token punctuation">.</span>pending<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">addCase</span><span class="token punctuation">(</span>fetchBlogs<span class="token punctuation">.</span>fulfilled<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">{</span> payload <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>blogs <span class="token operator">=</span> payload<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>isSuccess <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>message <span class="token operator">=</span> payload<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">addCase</span><span class="token punctuation">(</span>fetchBlogs<span class="token punctuation">.</span>rejected<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">{</span> payload <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>message <span class="token operator">=</span> payload<span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>isError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        state<span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> reset <span class="token punctuation">}</span> <span class="token operator">=</span> blogsSlice<span class="token punctuation">.</span>actions<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> blogsSlice<span class="token punctuation">.</span>reducer<span class="token punctuation">;</span>
</code></pre></div><h2 id="dispatch-redux-action"><a href="#dispatch-redux-action" class="header-anchor">#</a> Dispatch Redux Action</h2> <h3 id="dispatch-redux-action-2"><a href="#dispatch-redux-action-2" class="header-anchor">#</a> Dispatch Redux Action</h3> <p>We need to then update the useEffect hook in the Home page dispatch the fetchBlogs action to query the API and store the response in global state.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-redux&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> fetchBlogs<span class="token punctuation">,</span> reset <span class="token keyword">as</span> resetBlogs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../features/blogsSlice&quot;</span><span class="token punctuation">;</span>
<span class="token operator">...</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">fetchBlogs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">resetBlogs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dispatch<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token operator">...</span>

<span class="token punctuation">}</span>

</code></pre></div><h2 id="accessing-redux-state"><a href="#accessing-redux-state" class="header-anchor">#</a> Accessing Redux State</h2> <h3 id="accessing-redux-state-2"><a href="#accessing-redux-state-2" class="header-anchor">#</a> Accessing Redux State</h3> <p>We need the Home page component to subscribe the blogs state and update the UI whent he state changes. We can do this by importing useSelector from react-redux and destructuring the blog state slice. Every time the global state slice that we are listening to update the component will re render.</p> <div class="language-js extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch<span class="token punctuation">,</span> useSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-redux&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> fetchBlogs<span class="token punctuation">,</span> reset <span class="token keyword">as</span> resetBlogs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../features/blogsSlice&quot;</span><span class="token punctuation">;</span>
<span class="token operator">...</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    blogs<span class="token punctuation">,</span>
    <span class="token literal-property property">isError</span><span class="token operator">:</span> isBlogsError<span class="token punctuation">,</span>
    <span class="token literal-property property">isSuccess</span><span class="token operator">:</span> blogsSuccess<span class="token punctuation">,</span>
    <span class="token literal-property property">isLoading</span><span class="token operator">:</span> isLoadingBlogs<span class="token punctuation">,</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> blogsMessage<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>blogs<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">fetchBlogs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">resetBlogs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dispatch<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token operator">...</span>
  
<span class="token punctuation">}</span>

</code></pre></div><h3 id="final-updated-home-page"><a href="#final-updated-home-page" class="header-anchor">#</a> Final updated home page</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch<span class="token punctuation">,</span> useSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-redux&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> fetchBlogs<span class="token punctuation">,</span> reset <span class="token keyword">as</span> resetBlog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../features/blogsSlice&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  fetchCategories<span class="token punctuation">,</span>
  reset <span class="token keyword">as</span> resetCategory<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../features/categoriesSlice&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Toast<span class="token punctuation">,</span> ToastContainer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-bootstrap&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">&quot;../../App.css&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Heading <span class="token keyword">from</span> <span class="token string">&quot;../../components/Heading&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Navbar <span class="token keyword">from</span> <span class="token string">&quot;../../components/Navbar&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> BlogGrid <span class="token keyword">from</span> <span class="token string">&quot;../../components/BlogGrid&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Footer <span class="token keyword">from</span> <span class="token string">&quot;../../components/Footer&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SubHeading <span class="token keyword">from</span> <span class="token string">&quot;../../components/SubHeading&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CategoryList <span class="token keyword">from</span> <span class="token string">&quot;../../components/CategoryList&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    blogs<span class="token punctuation">,</span>
    <span class="token literal-property property">isError</span><span class="token operator">:</span> isBlogsError<span class="token punctuation">,</span>
    <span class="token literal-property property">isSuccess</span><span class="token operator">:</span> blogsSuccess<span class="token punctuation">,</span>
    <span class="token literal-property property">isLoading</span><span class="token operator">:</span> isLoadingBlogs<span class="token punctuation">,</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> blogsMessage<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>blogs<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    categories<span class="token punctuation">,</span>
    <span class="token literal-property property">isError</span><span class="token operator">:</span> isCategoriesError<span class="token punctuation">,</span>
    <span class="token literal-property property">isSuccess</span><span class="token operator">:</span> isCategoriesSuccess<span class="token punctuation">,</span>
    <span class="token literal-property property">isLoading</span><span class="token operator">:</span> isLoadingCategories<span class="token punctuation">,</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> categoriesMessage<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>categories<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">fetchCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">fetchBlogs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">resetBlog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">resetCategory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dispatch<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isLoadingCategories <span class="token operator">||</span> isLoadingBlogs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Navbar <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Heading <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>SubHeading subHeading<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;Recent Blog Posts&quot;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>BlogGrid blogPosts<span class="token operator">=</span><span class="token punctuation">{</span>blogs<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>BlogGrid<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>SubHeading subHeading<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;Categories&quot;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>CategoryList categories<span class="token operator">=</span><span class="token punctuation">{</span>categories<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>CategoryList<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Footer <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ToastContainer className<span class="token operator">=</span><span class="token string">&quot;p-3&quot;</span> position<span class="token operator">=</span><span class="token string">&quot;top-end&quot;</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Toast
          bg<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span>
          onClose<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
          autohide
          show<span class="token operator">=</span><span class="token punctuation">{</span>isCategoriesError <span class="token operator">||</span> isBlogsError<span class="token punctuation">}</span>
          delay<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5000</span><span class="token punctuation">}</span>
        <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Toast<span class="token punctuation">.</span>Header<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>strong className<span class="token operator">=</span><span class="token string">&quot;me-auto&quot;</span><span class="token operator">&gt;</span>Error<span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Toast<span class="token punctuation">.</span>Header<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Toast<span class="token punctuation">.</span>Body style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;white&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span>categoriesMessage <span class="token operator">||</span> blogsMessage<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Toast<span class="token punctuation">.</span>Body<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Toast<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ToastContainer<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e5bbb248.js" defer></script><script src="/assets/js/2.640495aa.js" defer></script><script src="/assets/js/1.416e4fa3.js" defer></script><script src="/assets/js/33.f66b6353.js" defer></script>
  </body>
</html>
